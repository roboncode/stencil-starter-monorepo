:host {
  /* Theme-aware tokens with fallbacks */
  --input-group-height-sm: var(--input-height-sm, 2rem);
  --input-group-height-base: var(--input-height-base, 2.5rem);
  --input-group-height-lg: var(--input-height-lg, 3rem);

  /* Border - use theme tokens */
  --input-group-border-color: var(--theme-input-border, #d4d4d4);
  --input-group-border-hover: var(--theme-input-border-hover, #a3a3a3);
  --input-group-border-focus: var(--theme-input-border-focus, #3b82f6);
  --input-group-border-radius: var(--theme-radius-md, 0.375rem);

  /* Background */
  --input-group-bg: var(--theme-input-bg, #ffffff);
  --input-group-disabled-bg: var(--theme-input-disabled-bg, #f5f5f5);

  /* Colors */
  --input-group-error-color: var(--theme-error, #ef4444);

  /* Shadows */
  --input-group-shadow-focus: var(--theme-shadow-focus, 0 0 0 3px rgba(59, 130, 246, 0.25));
  --input-group-shadow-error: var(--theme-shadow-error-focus, 0 0 0 3px rgba(239, 68, 68, 0.25));

  /* Font sizes */
  --input-group-font-size-sm: var(--font-size-xs, 0.75rem);
  --input-group-font-size-base: var(--font-size-sm, 0.875rem);
  --input-group-font-size-lg: var(--font-size-base, 1rem);

  /* Base styles applied to host */
  display: flex;
  align-items: stretch;
  width: 100%;
  border: 1px solid var(--input-group-border-color);
  border-radius: var(--input-group-border-radius);
  background-color: var(--input-group-bg);
  transition: border-color 150ms ease, box-shadow 150ms ease, background-color 150ms ease;
  overflow: hidden;
}

/* Hover state */
:host(:hover:not(.input-group--disabled)) {
  border-color: var(--input-group-border-hover);
}

/* Size variants */
:host(.input-group--sm) {
  height: var(--input-group-height-sm);
  font-size: var(--input-group-font-size-sm);
}

:host(.input-group--base) {
  height: var(--input-group-height-base);
  font-size: var(--input-group-font-size-base);
}

:host(.input-group--lg) {
  height: var(--input-group-height-lg);
  font-size: var(--input-group-font-size-lg);
}

/* Focus state - handled via :focus-within */
:host(:focus-within) {
  border-color: var(--input-group-border-focus);
  box-shadow: var(--input-group-shadow-focus);
}

/* Disabled state */
:host(.input-group--disabled) {
  opacity: 0.6;
  pointer-events: none;
  background-color: var(--input-group-disabled-bg);
  cursor: not-allowed;
}

/* Error state */
:host(.input-group--error) {
  border-color: var(--input-group-error-color);
}

:host(.input-group--error:hover:not(.input-group--disabled)) {
  border-color: var(--input-group-error-color);
}

:host(.input-group--error:focus-within) {
  border-color: var(--input-group-error-color);
  box-shadow: var(--input-group-shadow-error);
}

/* Slotted content layout */
::slotted(*) {
  flex-shrink: 0;
}

::slotted(ui-input-group-input) {
  flex: 1;
  min-width: 0;
}
